# Практическо ръководство по управление на бази данни

## Съдържание:

1. Увод
2. Общо за релационните бази данни
    1. Атом
    1. Поле
    2. Ред
    3. Колона
    4. Таблица
    5. База данни
3. SQL
    1. CREATE
    2. DROP
    3. INSERT
    4. DELETE
    5. UPDATE
    6. SELECT
    7. Индекси;
4. NoSQL


## 1. Увод

През последните десетина години ми се е налагало да използвам няколко системи за управление на бази от данни (Paradox, dBase, MS Access, Excel, MS SQL, MySQL, Memcache, AppEngine datastore, SQLite, PostreSQL дори малко Oracle). Всяка система си има своите особености и приложение но общото между тях е че улесняват работата с данни.

Една от основните задачи на програмирането е именно обработката на данни. Затова реших да събера кратко практическо ръководство за работа с база данни. По голямата част от проектите, върху които работя, са интерфейс към някакви данни.

## 2. Общо за релационните бази данни

Релационните бази данни носят това име заради връзките между елементите им, които ги правят истински полезни.

### 2.1 Атом

Атомът е най-малката неделима единица данни с която можем да работи. Примери за атоми са: 1, 123, А, София, Иван Петров.

### 2.1 Полета

Поле е мястото, където се съхраняват атомите. Полето обикновенно има тип, който определя какви данни могат да се съхраняват в него. Основните типове данни на полета са:

**INTEGER** - цели числа;

Целите числа могат да са със знак или без знак. Числата без знак могат да са само положителни но затова пък горната им граница е 2 пъти по висока от аналогичните числа със знак; Примери за цели числа: 1, 100, -23, 33222;

  **FLOAT** - числа с плаваща запетая (или дробни числа);

Числата със плаваща запетая са удобни за представяне на десетични дроби. **ВНИМАНИЕ!**: Въпреки че числата с плаваща запетая изглеждат удобни за работа с пари, избягвайте тази употреба. Точноста на операциите с числа с плаваща запетая не е гарантирана а това може да ви докара много главоболия. Практиката е за пари да се използват цели числа (които да се интерпретират като такива с фиксирана точка), иначе казано вместо да записвате 2.15 за сумата от 2 лева и 15 стотинки, използвайте цяло число и запишете 215 стотинки.

Примери за числа с плаваща запетая са: 1.00, 3.145, 8.22 (забележете че десетичната запетая се изписва като точка, въпреки че по БДС десетичният разделител в България е символа за запетая);

  **CHAR** - текст с фиксирана дължина

Текста с фиксирана широчина е такъв на който знаете предварително дължината. 

Примери за такива полета са MD5 сумите, Единния граждански номер, данъчния номер;

Принципно полетата с фиксирана широчина се управляват по-ефективно от СУБД, отколкото тези с променлива дължина. Все пак не прекалявайте. Приложението на фиксираната дължина е ограничено.
 
  **VARCHAR** - текст с променлива дължина;
  
Най-често използвания тип за съхранение на текстови данни. Полето с променлива дължина има размер, който указва максималния размер на текста, който може да се събере в него. Ще се запитате тогава какво му е променливото на това поле. Променлива е дължината, която СУБД заделя за данните при физическия запис.

  **TEXT** - дълъг текст;

Текстовото поле се използва за съхранение на голямо количество текст. Казвам глямо а не неограничено количество, защото обикновено има ограничение за максималния размер на текста и то зависи от конкретната база. Текстовото поле често се нарича текстов блоб (blob = BLOB binary large object). Разликата с CHAR и VARCHAR полетата е че текстовите полета обикновено се съхраняват във физически отделни файлове и не поддържат всички функции за обработка т.е. най-често се извличт и съхраняват като цели обекти.
  
  **DATE** - дата;
  
Поле за дата. Различните СУБД го интерпретират по различен начин (примерно MS SQL и MS Access според регионалните настройки, докато PostgreSQL използва японския запис YYYY-MM-DD).

  **TIMESTAMP** - дата и час;

Поле за време час (включително и милисекунди понякога). Много полезен тип, обикновено се използва за означаване на момент на добавяне или промяна на запис. Обикновено се преобразува лесно до Unix timestamp, който е удобен за програмна обработка.

>  Различните СУБД (Система за управление на база данни) поддържат много повече типове данни. Някой от тях екзотични но безспорно полезни. Примерно масиви, координати, IP адреси и.т.н. Тези допълнителни типове и прилежащите функции за работа с тях могат да се окажат решаващ фактор при избора на система.



